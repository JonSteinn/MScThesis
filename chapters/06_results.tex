
\coverchapter{Results}\label{ch:results}
The search method we have developed and the resulting bijections work between different domains. The problem, however, is the lack of maintained implementations of domains using Combinatorial Exploration. With Combinatorial Exploration being a product of a research group that is mainly interested in permutation patterns, unsurprisingly, the most supported domain is permutations with \tsc{}. As a consequence, we will mostly demonstrate bijections found between permutation classes.

\section{Cross-domain successes}
There is a very simple example implementation of words provided in repository for Combinatorial Exploration. A word over an alphabet $\Sigma$ is any sequence of elements from $\Sigma$. A pattern in a word is another word that occurs as a consecutive subsequence. This class can be described as a triple $\mathcal{W} = (p, \Sigma, A)$, where $p$ is a required prefix, $\Sigma$ is the alphabet and $A$ is the set of patterns to avoid. For example $(\varepsilon, \set{0,1}, \set{11})$ is the set of binary strings that avoid consecutive 1's, that is
\[
    (\varepsilon, \set{0,1}, \set{11}) = \set{\varepsilon, 0, 1, 00, 01, 10, 000, 001, 010, 100, 101, \dotsc}.
\]


The bijection search will easily find bijections between sets such as $(\varepsilon, \set{0,1}, \set{11})$ and $(\varepsilon, \set{a,b}, \set{bb})$, that are identical given a bijection of the letters of the alphabet. The same goes for the trivial sets $(\epsilon, \set{0}, \emptyset)$ and $\Av{12}$, where there is only a single element of each length. The implementation for words has few strategies and limited effort was allocated to finding bijections between words and permutation classes. We will demonstrate two such bijections in greater detail but there is a caveat that needs to be addressed.

Take, e.g., the class $\mathcal{W} = (\varepsilon, \set{a,b}, \emptyset)$. For any fixed length $n$, there are $2^n$ unique words as we have a choice between two letters for each position in any sequence. This produces the sequence $1, 2, 4, 8, 16, 32, 64, \dotsc$ while the permutation class, $\Av{231,321}$, has the sequence $1, 1, 2, 4, 8, 16, 32, \dotsc$ which is off by one. We could use $\textsf{Av}_{\geq1}(231,312)$ instead, which shares this sequence with the words if we start from $n=1$, but that brings another problem. Words of length $n$ would map to permutations of length $n+1$ while parallel specifications require atoms to match. What we can do instead is place the top point of $\textsf{Av}_{\geq1}(231,312)$ and factor it out. That leaves us with a tiling root $\mathcal{T}$ where
\begin{align*}
    \Av{231,312} &\cong \set{\varepsilon} \sqcup \textsf{Av}_{\geq1}(231,312),\\
    \textsf{Av}_{\geq1}(231,312) &\cong \set{\point{0.1}}\times \textsf{Grid}(\mathcal{T}).
\end{align*}
The tiling in question here is
\[
    \mathcal{T} = \left((2,1), \set{2^{(0,0)}1^{(1,0)}, 21^{(1,0)}, 231^{(0,0)}, 321^{(0,0)}},\emptyset\right).
\]
Now we can find and construct bijections between $\mathcal{W}$ and $\textsf{Grid}(\mathcal{T})$. It will map the words to gridded permutations in $\mathcal{G}^{(2,1)}$ instead of $\mathcal{G}^{(1,1)}$ but there is a trivial bijection from these gridded permutations to permutations.

The other bijection found was between $\mathcal{W} = (\varepsilon, \set{0,1}, \set{11})$ and $\Av{231,312,321}$. These are counted by the Fibonacci numbers but here we have the same issue as before, with one sequence being off by one. We remedy this in the same way as before, leaving us with a tiling root that can be seen in \FigureRef{fig:fibpermoffbyone}. This tiling can have at most a single point in cell $(1,0)$ and if it includes one, it must be greater than all the points in cell $(0,0)$. We can map any such gridded permutation to a permutation with a trivial bijection. Given a gridded permutation of length $n$ that contains no point in cell $(1,0)$ we append $n+1$ to the underlying permutation. If it contains a point in $(1,0)$ we place $n+1$ immediately prior to the last element.

\TableRef{tab:wordtilmap} shows the bijection constructed for $n \in \set{0,1,2,3}$ and the corresponding permutation with the mapping described above. \FigureRef{fig:fibwordtree} and \FigureRef{fig:fibpermtree} show the two parallel specifications that were found. Note that there is an empty class in the specification for words.

\begin{figure}[ht!]
    \centering
    \input{graphics/fibperm_offbyone}
    \caption{The tiling used instead of $\Av{231,312,321}$ to deal with the sequence offset of binary strings with no consecutive 1's.}
    \label{fig:fibpermoffbyone}
\end{figure}

\begin{table}[ht!]
    \centering
    \input{tables/bin2perm_map}
    \caption{An automated bijection up to $n=3$ between binary strings avoiding consecutive 1's and $\textsf{Grid}(\mathcal{T})$, where $\mathcal{T}$ is the tiling for $\textsf{Av}_{\geq1}(231,312,321)$ after placing and factoring out the top point. The corresponding permutation is also shown.}
    \label{tab:wordtilmap}
\end{table}

\begin{figure}
    \centering
    \input{graphics/fibwordtree}
    \vspace*{-12.5mm}
    \caption{The grammar of the specification found for binary strings avoiding consecutive 1's.}
    \label{fig:fibwordtree}
\end{figure}
\begin{figure}
    \centering
    \input{graphics/fibpermtree}
    \vspace*{-14mm}
    \caption{The grammar of the specification found for $\textsf{Av}_{\geq1}(231,312,321)$ after placing and factoring out the top point.}
    \label{fig:fibpermtree}
\end{figure}

\section{Permutation classes}
The experiments we carried out can be separated into known Wilf classes and \emph{experimental classes}. An experimental class is a collection of permutation classes that share the first $n$ terms in their counting sequence for a fixed $n$.

The experiments for known Wilf classes includes bijections found for all the permutation classes shown to be Wilf classes with bijections in \authcite{simionandschmidt}, excluding symmetries.

For the experimental classes we focused on classes avoiding patterns of length $4$. We started with those avoiding eleven patterns and worked our way downwards. Symmetries and classes with a regular insertion encoding were omitted. 


\subsection{Avoiding one pattern of length 3}\label{ss:onexthree}
The parallel specification we found for $\Av{123}$ and $\Av{132}$ are quite similar and even use the exact same rules. They are 
\begin{align*}
    \spec{C} = \left(
        \begin{pmatrix}
            \mathcal{C}^{(1)}\\
            \mathcal{C}^{(2)}\\
            \mathcal{C}^{(3)}\\
            \mathcal{C}^{(4)}\\
            \mathcal{C}^{(5)}\\
            \mathcal{C}^{(6)}\\
            \mathcal{C}^{(7)}
        \end{pmatrix}
        \begin{matrix}\\ \\ \\ \\ \\ \\ ,\end{matrix}
        \begin{pmatrix}
            o_1\\
            o_2\\
            o_3\\
            o_4\\
            o_5\\
            o_6\\
            o_7
        \end{pmatrix}
        \begin{matrix}\\ \\ \\ \\ \\ \\ ,\end{matrix}
        \begin{pmatrix}
            \set{\varepsilon} & \mathcal{C}^{(2)} & \emptyset\\
            \mathcal{C}^{(3)} & \set{1} & \emptyset\\
            \mathcal{C}^{(4)} & \emptyset & \emptyset\\
            \set{\varepsilon} & \mathcal{C}^{(5)} & \mathcal{C}^{(6)}\\
            \mathcal{C}^{(7)} & \set{1} & \emptyset\\
            \mathcal{C}^{(4)} & \mathcal{C}^{(8)} & \emptyset\\
            \mathcal{C}^{(4)} & \emptyset & \emptyset
        \end{pmatrix}
        \begin{matrix}\\ \\ \\ \\ \\ \\ ,\end{matrix}
        \begin{pmatrix}
        2\\
        2\\
        1\\
        3\\
        2\\
        2\\
        1
        \end{pmatrix}
    \right)
\end{align*}
and
\begin{align*}
    \spec{D} = \left(
        \begin{pmatrix}
            \mathcal{D}^{(1)}\\
            \mathcal{D}^{(2)}\\
            \mathcal{D}^{(3)}\\
            \mathcal{D}^{(4)}\\
            \mathcal{D}^{(5)}\\
            \mathcal{D}^{(6)}\\
            \mathcal{D}^{(7)}
        \end{pmatrix}
        \begin{matrix}\\ \\ \\ \\ \\ \\ ,\end{matrix}
        \begin{pmatrix}
            o_1\\
            o_2\\
            o_3\\
            o_4\\
            o_5\\
            o_6\\
            o_7
        \end{pmatrix}
        \begin{matrix}\\ \\ \\ \\ \\ \\ ,\end{matrix}
        \begin{pmatrix}
            \set{\varepsilon} & \mathcal{D}^{(2)} & \emptyset\\
            \mathcal{D}^{(3)} & \set{1} & \emptyset\\
            \mathcal{D}^{(4)} & \emptyset & \emptyset\\
            \set{\varepsilon} & \mathcal{D}^{(5)} & \mathcal{D}^{(6)}\\
            \mathcal{D}^{(7)} & \set{1} & \emptyset\\
            \mathcal{D}^{(4)} & \mathcal{D}^{(8)} & \emptyset\\
            \mathcal{D}^{(4)} & \emptyset & \emptyset
        \end{pmatrix}
        \begin{matrix}\\ \\ \\ \\ \\ \\ ,\end{matrix}
        \begin{pmatrix}
        2\\
        2\\
        1\\
        3\\
        2\\
        2\\
        1
        \end{pmatrix}
    \right)
\end{align*}
where the constructor's rules can be seen in \TableRef{tab:av123av132constructors} and the classes are listed in \TableRef{tab:ssclasses} in matched pairs.

\begin{table}[ht!]
    \centering
    \input{tables/av123av132rules}
    \caption{Rules for the parallel specifications of $\Av{123}$ and $\Av{132}$.}
    \label{tab:av123av132constructors}
\end{table}

\begin{table}[ht!]
    \centering
    \input{tables/SimionSchmidtClasses}
    \caption{The classes and their matching for the parallel specifications of $\Av{123}$ and $\Av{132}$.}
    \label{tab:ssclasses}
\end{table}

The bijection is shown for length $4$ in \TableRef{tab:ssexamp}.

\begin{table}[ht!]
    \centering
    \input{tables/ssmap}
    \caption{The automated bijection between $123$ and $132$ avoiding permutations shown for length $4$.}
    \label{tab:ssexamp}
\end{table}

\subsection{Avoiding two patterns of length 3}
The only Wilf class with more than one permutation class (ignoring symmetries) is the class consisting of $\Av{123,132}$, $\Av{132,213}$ and $\Av{132,231}$. The bijections we found can be seen in \FigureRef{fig:2x3bi}.

\begin{figure}[ht!]
    \centering
    \input{graphics/res_2x3}
    \caption{Bijections for classes avoiding two patterns of length $3$.}
    \label{fig:2x3bi}
\end{figure}

\subsection{Avoiding three patterns of length 3}
The bijections found can be seen in \FigureRef{fig:3x3bi}. 
\begin{figure}[ht!]
    \centering
    \input{graphics/res_3x3}
    \caption{Bijections for classes avoiding three patterns of length $3$.}
    \label{fig:3x3bi}
\end{figure}


\subsection{Avoiding one pattern of length 3 and one of length 4}
There are two Wilf classes with more than one permutation class and their bijections can be seen in \FigureRef{fig:1x31x4bi_1} and \FigureRef{fig:1x31x4bi_2}.

\begin{figure}[ht!]
    \centering
    \input{graphics/res_3and4_1}
    \caption{The bijection for the first Wilf class of permutations avoiding one pattern of length 3 and one of length 4.}
    \label{fig:1x31x4bi_1}
\end{figure}

\begin{figure}[ht!]
    \centering
    \input{graphics/res_3and4_2}
    \caption{Bijections for the second Wilf class of permutations avoiding one pattern of length 3 and one of length 4.}
    \label{fig:1x31x4bi_2}
\end{figure}

\subsection{Avoiding one pattern of length 4}
There are two Wilf classes with more than one permutation class. We did not manage to find bijections between $\Av{1342}$ and $\Av{2413}$ which make up one of those Wilf classes. That is because TileScope requires another technique to find their specifications which is not compatible with our bijection searcher. The other consists of $\Av{1234}$, $\Av{1243}$, $\Av{1432}$ and $\Av{2143}$. TileScope lacks the strategies to solve $\Av{2143}$ so that was out of reach while the bijections found for the others are shown in \FigureRef{fig:1x4bi}.

\begin{figure}[ht!]
    \centering
    \input{graphics/res_1x4}
    \caption{Bijections found for the Wilf class of $\Av{1234}$, $\Av{1243}$, $\Av{1432}$ and $\Av{2143}$.}
    \label{fig:1x4bi}
\end{figure}

\subsection{Experimental classes}
The experimental classes we ran our bijection searcher for can be seen in Appendix \ref{ch:expcls}. They are grouped by Roman numerals and figures will contain their list indices.

The experiments were carried out by comparing the first class against all others, then the second to all but the first and so on. A disjoint-set data structure was used to keep track of confirmed equivalences. As a consequence, the experiments favored lower numbers to have higher degrees. The setup for the experiments can be seen in Appendix \ref{ch:expsetup}.

Every experimental class was confirmed to be a Wilf class with the exception of experimental class III where we failed to find a bijection between
\[
    \Av{1243,1342,1423,1432,2143,2413,3142,3412,4231}
\]
and any other class. The bijections found for each experimental class can be seen in XXXXXX\todo{How to ref so many pics?}. Experimental classes with only two permutation classes are omitted since all of them were successfully shown to be Wilf classes and no information is contained in their figure.


% experimental class 1
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_1}
    \caption{Bijections for experimental class I}
    \label{fig:expgrp_I}
\end{figure}


% experimental class 2
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_2}
    \caption{Bijections for experimental class II}
    \label{fig:expgrp_II}
\end{figure}


% experimental class 3
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_3}
    \caption{Bijections for experimental class III}
    \label{fig:expgrp_III}
\end{figure}


% experimental class 4
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_4}
    \caption{Bijections for experimental class IV}
    \label{fig:expgrp_IV}
\end{figure}


% experimental class 5
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_5}
    \caption{Bijections for experimental class V}
    \label{fig:expgrp_V}
\end{figure}


% experimental class 6 - Only 2 classes, no need to display
\begin{comment}
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_6}
    \caption{Bijections for experimental class VI}
    \label{fig:expgrp_VI}
\end{figure}
\end{comment}


% experimental class 7 - Only 2 classes, no need to display
\begin{comment}
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_7}
    \caption{Bijections for experimental class VII}
    \label{fig:expgrp_VII}
\end{figure}
\end{comment}


% experimental class 8 - Only 2 classes, no need to display
\begin{comment}
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_8}
    \caption{Bijections for experimental class VIII}
    \label{fig:expgrp_VIII}
\end{figure}
\end{comment}


% experimental class 9
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_9}
    \caption{Bijections for experimental class IX}
    \label{fig:expgrp_IX}
\end{figure}


% experimental class 10
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_10}
    \caption{Bijections for experimental class X}
    \label{fig:expgrp_X}
\end{figure}


% experimental class 11
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_11}
    \caption{Bijections for experimental class XI}
    \label{fig:expgrp_XI}
\end{figure}


% experimental class 12 - Only 2 classes, no need to display
\begin{comment}
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_12}
    \caption{Bijections for experimental class XII}
    \label{fig:expgrp_XII}
\end{figure}
\end{comment}


% experimental class 13
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_13}
    \caption{Bijections for experimental class XIII}
    \label{fig:expgrp_XIII}
\end{figure}


% experimental class 14
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_14}
    \caption{Bijections for experimental class XIV}
    \label{fig:expgrp_XIV}
\end{figure}


% experimental class 15
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_15}
    \caption{Bijections for experimental class XV}
    \label{fig:expgrp_XV}
\end{figure}


% experimental class 16 - Only 2 classes, no need to display
\begin{comment}
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_16}
    \caption{Bijections for experimental class XVI}
    \label{fig:expgrp_XVI}
\end{figure}
\end{comment}


% experimental class 17
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_17}
    \caption{Bijections for experimental class XVII}
    \label{fig:expgrp_XVII}
\end{figure}


% experimental class 18
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_18}
    \caption{Bijections for experimental class XVIII}
    \label{fig:expgrp_XVIII}
\end{figure}


% experimental class 19
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_19}
    \caption{Bijections for experimental class XIX}
    \label{fig:expgrp_XIX}
\end{figure}


% experimental class 20
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_20}
    \caption{Bijections for experimental class XX}
    \label{fig:expgrp_XX}
\end{figure}


% experimental class 21
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_21}
    \caption{Bijections for experimental class XXI}
    \label{fig:expgrp_XXI}
\end{figure}


% experimental class 22
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_22}
    \caption{Bijections for experimental class XXII}
    \label{fig:expgrp_XXII}
\end{figure}


% experimental class 23
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_23}
    \caption{Bijections for experimental class XXIII}
    \label{fig:expgrp_XXIII}
\end{figure}


% experimental class 24 - Only 2 classes, no need to display
\begin{comment}
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_24}
    \caption{Bijections for experimental class XXIV}
    \label{fig:expgrp_XXIV}
\end{figure}
\end{comment}


% experimental class 25 - Only 2 classes, no need to display
\begin{comment}
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_25}
    \caption{Bijections for experimental class XXV}
    \label{fig:expgrp_XXV}
\end{figure}
\end{comment}


% experimental class 26
\begin{figure}[ht!]
    \centering
    \input{graphics/res_exp_26}
    \caption{Bijections for experimental class XXVI}
    \label{fig:expgrp_XXVI}
\end{figure}

